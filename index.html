<!doctype html>
<html lang="he" dir="rtl">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no,viewport-fit=cover" />
    <meta name="theme-color" content="#7bd77f" />
    <title>כאוס חתונה: עופר נגד מושו</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <main id="app" aria-label="המשחק כאוס חתונה">
      <canvas id="game" aria-label="משטח המשחק"></canvas>

      <!-- IDLE UI: title + explanations, then demo panel, then start button -->
      <section id="startUI" class="overlay overlay--start" aria-label="מסך פתיחה">
        <div class="startUI-background">
          <div class="title">כאוס חתונה</div>
          <div class="subtitle">תתפסו את מושו (🐶) לפני שהוא זורק את הטבעות לציר זמן אחר.</div>
          <div class="howto" aria-label="איך משחקים">
            <div class="howtoTitle">איך משחקים</div>
            <div class="howtoText">
              מזיזים את הג׳ויסטיק כדי להזיז את עופר 🤵<br />
              תופסים את מושו 🐶 לפני שנגמר הזמן
            </div>
          </div>
        </div>
        <div id="startUI-demoPanel" class="startUI-demoPanel" aria-label="נסו את המשחק">
          <div id="startUI-demoViewport" class="startUI-demoViewport" aria-hidden="true">
            <!-- Canvas is moved here in IDLE so demo is clipped to panel -->
          </div>
          <div class="startUI-demoPanel-inner">
            <span class="demoHint demoHint--inside">נסו כאן: הזיזו את הג׳ויסטיק ותפסו את מושו 👇</span>
          </div>
        </div>
        <div class="startUI-footer">
          <button id="startBtn" class="bigBtn" type="button">מתחילים כאוס</button>
          <div class="tiny">
            מובייל בלבד • מומלץ מצב לאורך
          </div>
        </div>
      </section>

      <!-- HUD (in-game UI) -->
      <div id="hud" class="hud" aria-label="תצוגת משחק">
        <div class="hudRow">
          <div id="timer" class="pill">30.0ש׳</div>
        </div>
        <div id="chaos" class="pill pill--chaos isHidden" aria-live="polite"></div>
        <div id="quip" class="quip" aria-live="polite"></div>
      </div>

      <!-- On-screen joystick (movement) -->
      <section id="joystick" class="joystick isHidden" aria-label="ג׳ויסטיק תנועה">
        <div id="joystickBase" class="joystickBase" aria-hidden="true">
          <div id="joystickKnob" class="joystickKnob"></div>
        </div>
      </section>

      <!-- END UI -->
      <section id="endUI" class="overlay overlay--center isHidden" aria-label="מסך סיום">
        <div class="panel">
          <div id="endTitle" class="title">תוצאות הכאוס</div>
          <div id="endText" class="subtitle"></div>
          <div id="endScore" class="scoreBox" aria-label="ניקוד"></div>
          <button id="restartBtn" class="bigBtn" type="button">עוד פעם</button>
          <div class="tiny">
            טיפ: לנצח זה אופציונלי. קומדיה זה חובה.
          </div>
        </div>
      </section>

      <!-- Stage intro / between stages -->
      <section id="stageUI" class="overlay overlay--center isHidden" aria-label="מסך שלב">
        <div class="panel">
          <div id="stageTitle" class="title">שלב</div>
          <div id="stageText" class="subtitle stageText"></div>
          <div id="stageCountdown" class="countdown" aria-live="polite"></div>
          <div id="stageTiny" class="tiny"></div>
        </div>
      </section>

      <!-- Landscape warning -->
      <section id="rotateUI" class="overlay overlay--center isHidden" aria-label="סיבוב מכשיר">
        <div class="panel">
          <div class="title">רק מצב לאורך</div>
          <div class="subtitle">תחזירו לאורך. החתונה גם ככה לא יציבה.</div>
        </div>
      </section>
    </main>

    <script src="game.js"></script>
  </body>
</html>
